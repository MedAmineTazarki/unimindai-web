<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UnimindAI - Assistant Intelligent</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Login Screen -->
        <div id="login-screen" class="screen">
            <div class="login-box">
                <h1>ğŸ§  UnimindAI</h1>
                <p class="tagline">Votre assistant intelligent avec MCP</p>

                <div class="login-form">
                    <input type="email" id="email" placeholder="Email" />
                    <input type="password" id="password" placeholder="Mot de passe" />
                    <button onclick="login()" class="btn-primary">Se connecter</button>
                    <button onclick="signupMode()" class="btn-secondary">CrÃ©er un compte</button>
                </div>

                <div id="login-error" class="error-message"></div>

                <div class="demo-info">
                    <p><strong>ğŸ¯ Demo Mode</strong></p>
                    <p>Email: demo@unimindai.com</p>
                    <p>Password: demo123</p>
                </div>
            </div>
        </div>

        <!-- Main App -->
        <div id="main-screen" class="screen hidden">
            <nav class="navbar">
                <div class="nav-brand">ğŸ§  UnimindAI</div>
                <div class="nav-menu">
                    <button onclick="showTab('chat')" class="nav-btn active" id="tab-chat">ğŸ’¬ Chat</button>
                    <button onclick="showTab('notes')" class="nav-btn" id="tab-notes">ğŸ“ Notes</button>
                    <button onclick="showTab('mcp')" class="nav-btn" id="tab-mcp">âš™ï¸ MCP Tools</button>
                    <button onclick="logout()" class="nav-btn-logout">ğŸšª DÃ©connexion</button>
                </div>
            </nav>

            <!-- Chat Tab -->
            <div id="chat-tab" class="tab-content">
                <div class="chat-container">
                    <div class="chat-messages" id="chat-messages">
                        <div class="welcome-message">
                            <h2>ğŸ‘‹ Bienvenue sur UnimindAI !</h2>
                            <p>Je suis votre assistant intelligent. Posez-moi des questions ou demandez-moi de sauvegarder des notes !</p>
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="message-input" placeholder="Tapez votre message..." onkeypress="handleEnter(event)" />
                        <button onclick="sendMessage()" class="btn-send">Envoyer</button>
                    </div>
                </div>
            </div>

            <!-- Notes Tab -->
            <div id="notes-tab" class="tab-content hidden">
                <div class="notes-container">
                    <div class="notes-header">
                        <h2>ğŸ“ Mes Notes</h2>
                        <button onclick="showCreateNote()" class="btn-primary">+ Nouvelle Note</button>
                    </div>

                    <div id="create-note" class="create-note hidden">
                        <input type="text" id="note-title" placeholder="Titre de la note" />
                        <textarea id="note-content" placeholder="Contenu..." rows="5"></textarea>
                        <input type="text" id="note-tags" placeholder="Tags (sÃ©parÃ©s par des virgules)" />
                        <div class="button-group">
                            <button onclick="saveNote()" class="btn-primary">Sauvegarder</button>
                            <button onclick="cancelNote()" class="btn-secondary">Annuler</button>
                        </div>
                    </div>

                    <div class="search-box">
                        <input type="text" id="search-notes" placeholder="ğŸ” Chercher une note..." oninput="searchNotes()" />
                    </div>

                    <div id="notes-list" class="notes-list">
                        <div class="loading">Chargement des notes...</div>
                    </div>
                </div>
            </div>

            <!-- MCP Tools Tab -->
            <div id="mcp-tab" class="tab-content hidden">
                <div class="mcp-container">
                    <h2>âš™ï¸ MCP Tools Disponibles</h2>
                    <p class="subtitle">Test des outils MCP disponibles sur le backend</p>

                    <div id="mcp-tools-list" class="mcp-tools-list">
                        <div class="loading">Chargement des tools MCP...</div>
                    </div>

                    <div class="mcp-tester">
                        <h3>ğŸ§ª Testeur de Tool</h3>
                        <select id="tool-select" onchange="updateToolParams()">
                            <option value="">SÃ©lectionner un tool...</option>
                        </select>
                        <div id="tool-params" class="tool-params"></div>
                        <button onclick="testTool()" class="btn-primary">ExÃ©cuter le Tool</button>
                        <div id="tool-result" class="tool-result"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

    <script src="config.js"></script>
    <script src="app.js"></script>
</body>
</html>